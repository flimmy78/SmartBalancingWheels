/*This is the table functions.
File name :tab.c
All rights reserved,if the code is not authorized by STMicroelectronics.
----by tom.xiao
E-mail:tom.xiao@ST.com
2015-1-15 11:12:28
*/

#include "tab.h"

//sin table define.
uint16_t Sin_90_Q15_Tab[Quarter_Sin_Point_Num] =
{
//2048 0~90
  0,      25,     50,     75,     101,    126,    151,    176,    201,    226,    251,    276,    302,    327,    352,    377,
  402,    427,    452,    477,    503,    528,    553,    578,    603,    628,    653,    679,    704,    729,    754,    779,
  804,    829,    854,    880,    905,    930,    955,    980,    1005,   1030,   1055,   1080,   1106,   1131,   1156,   1181,
  1206,   1231,   1256,   1281,   1307,   1332,   1357,   1382,   1407,   1432,   1457,   1482,   1507,   1532,   1558,   1583,
  1608,   1633,   1658,   1683,   1708,   1733,   1758,   1783,   1809,   1834,   1859,   1884,   1909,   1934,   1959,   1984,
  2009,   2034,   2059,   2085,   2110,   2135,   2160,   2185,   2210,   2235,   2260,   2285,   2310,   2335,   2360,   2385,
  2410,   2436,   2461,   2486,   2511,   2536,   2561,   2586,   2611,   2636,   2661,   2686,   2711,   2736,   2761,   2786,
  2811,   2836,   2861,   2886,   2911,   2936,   2962,   2987,   3012,   3037,   3062,   3087,   3112,   3137,   3162,   3187,
  3212,   3237,   3262,   3287,   3312,   3337,   3362,   3387,   3412,   3437,   3462,   3487,   3512,   3537,   3562,   3587,
  3612,   3637,   3662,   3687,   3712,   3737,   3761,   3786,   3811,   3836,   3861,   3886,   3911,   3936,   3961,   3986,
  4011,   4036,   4061,   4086,   4111,   4136,   4161,   4186,   4210,   4235,   4260,   4285,   4310,   4335,   4360,   4385,
  4410,   4435,   4460,   4485,   4509,   4534,   4559,   4584,   4609,   4634,   4659,   4684,   4708,   4733,   4758,   4783,
  4808,   4833,   4858,   4882,   4907,   4932,   4957,   4982,   5007,   5032,   5056,   5081,   5106,   5131,   5156,   5180,
  5205,   5230,   5255,   5280,   5305,   5329,   5354,   5379,   5404,   5428,   5453,   5478,   5503,   5528,   5552,   5577,
  5602,   5627,   5651,   5676,   5701,   5726,   5750,   5775,   5800,   5825,   5849,   5874,   5899,   5924,   5948,   5973,
  5998,   6022,   6047,   6072,   6096,   6121,   6146,   6171,   6195,   6220,   6245,   6269,   6294,   6319,   6343,   6368,
  6393,   6417,   6442,   6466,   6491,   6516,   6540,   6565,   6590,   6614,   6639,   6663,   6688,   6713,   6737,   6762,
  6786,   6811,   6836,   6860,   6885,   6909,   6934,   6958,   6983,   7008,   7032,   7057,   7081,   7106,   7130,   7155,
  7179,   7204,   7228,   7253,   7277,   7302,   7326,   7351,   7375,   7400,   7424,   7449,   7473,   7498,   7522,   7547,
  7571,   7596,   7620,   7644,   7669,   7693,   7718,   7742,   7767,   7791,   7815,   7840,   7864,   7889,   7913,   7937,
  7962,   7986,   8010,   8035,   8059,   8084,   8108,   8132,   8157,   8181,   8205,   8230,   8254,   8278,   8303,   8327,
  8351,   8375,   8400,   8424,   8448,   8473,   8497,   8521,   8545,   8570,   8594,   8618,   8642,   8667,   8691,   8715,
  8739,   8764,   8788,   8812,   8836,   8860,   8885,   8909,   8933,   8957,   8981,   9006,   9030,   9054,   9078,   9102,
  9126,   9150,   9175,   9199,   9223,   9247,   9271,   9295,   9319,   9343,   9367,   9391,   9416,   9440,   9464,   9488,
  9512,   9536,   9560,   9584,   9608,   9632,   9656,   9680,   9704,   9728,   9752,   9776,   9800,   9824,   9848,   9872,
  9896,   9920,   9944,   9968,   9992,   10016,  10039,  10063,  10087,  10111,  10135,  10159,  10183,  10207,  10231,  10255,
  10278,  10302,  10326,  10350,  10374,  10398,  10421,  10445,  10469,  10493,  10517,  10541,  10564,  10588,  10612,  10636,
  10659,  10683,  10707,  10731,  10754,  10778,  10802,  10826,  10849,  10873,  10897,  10920,  10944,  10968,  10992,  11015,
  11039,  11063,  11086,  11110,  11133,  11157,  11181,  11204,  11228,  11252,  11275,  11299,  11322,  11346,  11370,  11393,
  11417,  11440,  11464,  11487,  11511,  11534,  11558,  11581,  11605,  11628,  11652,  11675,  11699,  11722,  11746,  11769,
  11793,  11816,  11840,  11863,  11886,  11910,  11933,  11957,  11980,  12003,  12027,  12050,  12074,  12097,  12120,  12144,
  12167,  12190,  12214,  12237,  12260,  12284,  12307,  12330,  12353,  12377,  12400,  12423,  12446,  12470,  12493,  12516,
  12539,  12563,  12586,  12609,  12632,  12655,  12679,  12702,  12725,  12748,  12771,  12794,  12817,  12841,  12864,  12887,
  12910,  12933,  12956,  12979,  13002,  13025,  13048,  13071,  13094,  13118,  13141,  13164,  13187,  13210,  13233,  13256,
  13279,  13302,  13324,  13347,  13370,  13393,  13416,  13439,  13462,  13485,  13508,  13531,  13554,  13577,  13599,  13622,
  13645,  13668,  13691,  13714,  13736,  13759,  13782,  13805,  13828,  13850,  13873,  13896,  13919,  13942,  13964,  13987,
  14010,  14032,  14055,  14078,  14101,  14123,  14146,  14169,  14191,  14214,  14236,  14259,  14282,  14304,  14327,  14350,
  14372,  14395,  14417,  14440,  14462,  14485,  14507,  14530,  14553,  14575,  14598,  14620,  14643,  14665,  14688,  14710,
  14732,  14755,  14777,  14800,  14822,  14845,  14867,  14889,  14912,  14934,  14956,  14979,  15001,  15024,  15046,  15068,
  15090,  15113,  15135,  15157,  15180,  15202,  15224,  15246,  15269,  15291,  15313,  15335,  15358,  15380,  15402,  15424,
  15446,  15468,  15491,  15513,  15535,  15557,  15579,  15601,  15623,  15645,  15667,  15690,  15712,  15734,  15756,  15778,
  15800,  15822,  15844,  15866,  15888,  15910,  15932,  15954,  15976,  15997,  16019,  16041,  16063,  16085,  16107,  16129,
  16151,  16173,  16195,  16216,  16238,  16260,  16282,  16304,  16325,  16347,  16369,  16391,  16413,  16434,  16456,  16478,
  16499,  16521,  16543,  16565,  16586,  16608,  16630,  16651,  16673,  16694,  16716,  16738,  16759,  16781,  16802,  16824,
  16846,  16867,  16889,  16910,  16932,  16953,  16975,  16996,  17018,  17039,  17061,  17082,  17104,  17125,  17146,  17168,
  17189,  17211,  17232,  17253,  17275,  17296,  17317,  17339,  17360,  17381,  17403,  17424,  17445,  17467,  17488,  17509,
  17530,  17551,  17573,  17594,  17615,  17636,  17657,  17679,  17700,  17721,  17742,  17763,  17784,  17805,  17827,  17848,
  17869,  17890,  17911,  17932,  17953,  17974,  17995,  18016,  18037,  18058,  18079,  18100,  18121,  18142,  18163,  18183,
  18204,  18225,  18246,  18267,  18288,  18309,  18330,  18350,  18371,  18392,  18413,  18434,  18454,  18475,  18496,  18517,
  18537,  18558,  18579,  18599,  18620,  18641,  18661,  18682,  18703,  18723,  18744,  18765,  18785,  18806,  18826,  18847,
  18868,  18888,  18909,  18929,  18950,  18970,  18991,  19011,  19032,  19052,  19072,  19093,  19113,  19134,  19154,  19174,
  19195,  19215,  19236,  19256,  19276,  19297,  19317,  19337,  19357,  19378,  19398,  19418,  19438,  19459,  19479,  19499,
  19519,  19539,  19560,  19580,  19600,  19620,  19640,  19660,  19680,  19700,  19721,  19741,  19761,  19781,  19801,  19821,
  19841,  19861,  19881,  19901,  19921,  19941,  19961,  19981,  20000,  20020,  20040,  20060,  20080,  20100,  20120,  20139,
  20159,  20179,  20199,  20219,  20238,  20258,  20278,  20298,  20317,  20337,  20357,  20377,  20396,  20416,  20436,  20455,
  20475,  20494,  20514,  20534,  20553,  20573,  20592,  20612,  20631,  20651,  20670,  20690,  20709,  20729,  20748,  20768,
  20787,  20807,  20826,  20845,  20865,  20884,  20904,  20923,  20942,  20962,  20981,  21000,  21019,  21039,  21058,  21077,
  21096,  21116,  21135,  21154,  21173,  21192,  21212,  21231,  21250,  21269,  21288,  21307,  21326,  21345,  21364,  21383,
  21403,  21422,  21441,  21460,  21479,  21498,  21516,  21535,  21554,  21573,  21592,  21611,  21630,  21649,  21668,  21687,
  21705,  21724,  21743,  21762,  21781,  21799,  21818,  21837,  21856,  21874,  21893,  21912,  21930,  21949,  21968,  21986,
  22005,  22024,  22042,  22061,  22079,  22098,  22116,  22135,  22154,  22172,  22191,  22209,  22227,  22246,  22264,  22283,
  22301,  22320,  22338,  22356,  22375,  22393,  22411,  22430,  22448,  22466,  22485,  22503,  22521,  22540,  22558,  22576,
  22594,  22612,  22631,  22649,  22667,  22685,  22703,  22721,  22739,  22757,  22776,  22794,  22812,  22830,  22848,  22866,
  22884,  22902,  22920,  22938,  22956,  22973,  22991,  23009,  23027,  23045,  23063,  23081,  23099,  23116,  23134,  23152,
  23170,  23188,  23205,  23223,  23241,  23258,  23276,  23294,  23311,  23329,  23347,  23364,  23382,  23400,  23417,  23435,
  23452,  23470,  23487,  23505,  23522,  23540,  23557,  23575,  23592,  23610,  23627,  23645,  23662,  23679,  23697,  23714,
  23731,  23749,  23766,  23783,  23801,  23818,  23835,  23852,  23870,  23887,  23904,  23921,  23938,  23956,  23973,  23990,
  24007,  24024,  24041,  24058,  24075,  24092,  24109,  24126,  24143,  24160,  24177,  24194,  24211,  24228,  24245,  24262,
  24279,  24296,  24312,  24329,  24346,  24363,  24380,  24397,  24413,  24430,  24447,  24464,  24480,  24497,  24514,  24530,
  24547,  24564,  24580,  24597,  24613,  24630,  24647,  24663,  24680,  24696,  24713,  24729,  24746,  24762,  24779,  24795,
  24811,  24828,  24844,  24861,  24877,  24893,  24910,  24926,  24942,  24959,  24975,  24991,  25007,  25024,  25040,  25056,
  25072,  25088,  25105,  25121,  25137,  25153,  25169,  25185,  25201,  25217,  25233,  25249,  25265,  25281,  25297,  25313,
  25329,  25345,  25361,  25377,  25393,  25409,  25425,  25440,  25456,  25472,  25488,  25504,  25519,  25535,  25551,  25567,
  25582,  25598,  25614,  25629,  25645,  25661,  25676,  25692,  25708,  25723,  25739,  25754,  25770,  25785,  25801,  25816,
  25832,  25847,  25863,  25878,  25893,  25909,  25924,  25940,  25955,  25970,  25986,  26001,  26016,  26031,  26047,  26062,
  26077,  26092,  26108,  26123,  26138,  26153,  26168,  26183,  26198,  26214,  26229,  26244,  26259,  26274,  26289,  26304,
  26319,  26334,  26349,  26364,  26378,  26393,  26408,  26423,  26438,  26453,  26468,  26482,  26497,  26512,  26527,  26542,
  26556,  26571,  26586,  26600,  26615,  26630,  26644,  26659,  26674,  26688,  26703,  26717,  26732,  26746,  26761,  26775,
  26790,  26804,  26819,  26833,  26848,  26862,  26876,  26891,  26905,  26919,  26934,  26948,  26962,  26977,  26991,  27005,
  27019,  27034,  27048,  27062,  27076,  27090,  27104,  27118,  27133,  27147,  27161,  27175,  27189,  27203,  27217,  27231,
  27245,  27259,  27273,  27287,  27300,  27314,  27328,  27342,  27356,  27370,  27384,  27397,  27411,  27425,  27439,  27452,
  27466,  27480,  27493,  27507,  27521,  27534,  27548,  27562,  27575,  27589,  27602,  27616,  27629,  27643,  27656,  27670,
  27683,  27697,  27710,  27724,  27737,  27750,  27764,  27777,  27790,  27804,  27817,  27830,  27843,  27857,  27870,  27883,
  27896,  27910,  27923,  27936,  27949,  27962,  27975,  27988,  28001,  28014,  28027,  28040,  28053,  28066,  28079,  28092,
  28105,  28118,  28131,  28144,  28157,  28170,  28182,  28195,  28208,  28221,  28234,  28246,  28259,  28272,  28284,  28297,
  28310,  28322,  28335,  28348,  28360,  28373,  28385,  28398,  28411,  28423,  28436,  28448,  28460,  28473,  28485,  28498,
  28510,  28523,  28535,  28547,  28560,  28572,  28584,  28596,  28609,  28621,  28633,  28645,  28658,  28670,  28682,  28694,
  28706,  28718,  28730,  28742,  28755,  28767,  28779,  28791,  28803,  28815,  28827,  28838,  28850,  28862,  28874,  28886,
  28898,  28910,  28922,  28933,  28945,  28957,  28969,  28980,  28992,  29004,  29016,  29027,  29039,  29050,  29062,  29074,
  29085,  29097,  29108,  29120,  29131,  29143,  29154,  29166,  29177,  29189,  29200,  29212,  29223,  29234,  29246,  29257,
  29268,  29280,  29291,  29302,  29313,  29325,  29336,  29347,  29358,  29369,  29380,  29392,  29403,  29414,  29425,  29436,
  29447,  29458,  29469,  29480,  29491,  29502,  29513,  29524,  29534,  29545,  29556,  29567,  29578,  29589,  29599,  29610,
  29621,  29632,  29642,  29653,  29664,  29675,  29685,  29696,  29706,  29717,  29728,  29738,  29749,  29759,  29770,  29780,
  29791,  29801,  29812,  29822,  29832,  29843,  29853,  29864,  29874,  29884,  29894,  29905,  29915,  29925,  29936,  29946,
  29956,  29966,  29976,  29986,  29997,  30007,  30017,  30027,  30037,  30047,  30057,  30067,  30077,  30087,  30097,  30107,
  30117,  30126,  30136,  30146,  30156,  30166,  30176,  30185,  30195,  30205,  30215,  30224,  30234,  30244,  30253,  30263,
  30273,  30282,  30292,  30302,  30311,  30321,  30330,  30340,  30349,  30359,  30368,  30377,  30387,  30396,  30406,  30415,
  30424,  30434,  30443,  30452,  30462,  30471,  30480,  30489,  30498,  30508,  30517,  30526,  30535,  30544,  30553,  30562,
  30571,  30580,  30589,  30598,  30607,  30616,  30625,  30634,  30643,  30652,  30661,  30670,  30679,  30687,  30696,  30705,
  30714,  30723,  30731,  30740,  30749,  30757,  30766,  30775,  30783,  30792,  30800,  30809,  30818,  30826,  30835,  30843,
  30852,  30860,  30868,  30877,  30885,  30894,  30902,  30910,  30919,  30927,  30935,  30944,  30952,  30960,  30968,  30977,
  30985,  30993,  31001,  31009,  31017,  31025,  31033,  31041,  31050,  31058,  31066,  31074,  31082,  31089,  31097,  31105,
  31113,  31121,  31129,  31137,  31145,  31152,  31160,  31168,  31176,  31183,  31191,  31199,  31206,  31214,  31222,  31229,
  31237,  31245,  31252,  31260,  31267,  31275,  31282,  31290,  31297,  31305,  31312,  31319,  31327,  31334,  31341,  31349,
  31356,  31363,  31371,  31378,  31385,  31392,  31400,  31407,  31414,  31421,  31428,  31435,  31442,  31449,  31456,  31463,
  31470,  31477,  31484,  31491,  31498,  31505,  31512,  31519,  31526,  31533,  31539,  31546,  31553,  31560,  31567,  31573,
  31580,  31587,  31593,  31600,  31607,  31613,  31620,  31627,  31633,  31640,  31646,  31653,  31659,  31666,  31672,  31679,
  31685,  31691,  31698,  31704,  31710,  31717,  31723,  31729,  31736,  31742,  31748,  31754,  31760,  31767,  31773,  31779,
  31785,  31791,  31797,  31803,  31809,  31815,  31821,  31827,  31833,  31839,  31845,  31851,  31857,  31863,  31869,  31875,
  31880,  31886,  31892,  31898,  31903,  31909,  31915,  31921,  31926,  31932,  31937,  31943,  31949,  31954,  31960,  31965,
  31971,  31976,  31982,  31987,  31993,  31998,  32004,  32009,  32014,  32020,  32025,  32030,  32036,  32041,  32046,  32051,
  32057,  32062,  32067,  32072,  32077,  32082,  32087,  32092,  32098,  32103,  32108,  32113,  32118,  32123,  32128,  32132,
  32137,  32142,  32147,  32152,  32157,  32162,  32166,  32171,  32176,  32181,  32185,  32190,  32195,  32200,  32204,  32209,
  32213,  32218,  32223,  32227,  32232,  32236,  32241,  32245,  32250,  32254,  32258,  32263,  32267,  32272,  32276,  32280,
  32285,  32289,  32293,  32297,  32302,  32306,  32310,  32314,  32318,  32322,  32327,  32331,  32335,  32339,  32343,  32347,
  32351,  32355,  32359,  32363,  32367,  32371,  32375,  32378,  32382,  32386,  32390,  32394,  32397,  32401,  32405,  32409,
  32412,  32416,  32420,  32423,  32427,  32431,  32434,  32438,  32441,  32445,  32448,  32452,  32455,  32459,  32462,  32466,
  32469,  32472,  32476,  32479,  32482,  32486,  32489,  32492,  32495,  32499,  32502,  32505,  32508,  32511,  32514,  32517,
  32521,  32524,  32527,  32530,  32533,  32536,  32539,  32542,  32545,  32547,  32550,  32553,  32556,  32559,  32562,  32565,
  32567,  32570,  32573,  32576,  32578,  32581,  32584,  32586,  32589,  32592,  32594,  32597,  32599,  32602,  32604,  32607,
  32609,  32612,  32614,  32617,  32619,  32621,  32624,  32626,  32628,  32631,  32633,  32635,  32637,  32640,  32642,  32644,
  32646,  32648,  32650,  32653,  32655,  32657,  32659,  32661,  32663,  32665,  32667,  32669,  32671,  32673,  32674,  32676,
  32678,  32680,  32682,  32684,  32685,  32687,  32689,  32691,  32692,  32694,  32696,  32697,  32699,  32701,  32702,  32704,
  32705,  32707,  32708,  32710,  32711,  32713,  32714,  32716,  32717,  32718,  32720,  32721,  32722,  32724,  32725,  32726,
  32728,  32729,  32730,  32731,  32732,  32733,  32735,  32736,  32737,  32738,  32739,  32740,  32741,  32742,  32743,  32744,
  32745,  32746,  32747,  32747,  32748,  32749,  32750,  32751,  32752,  32752,  32753,  32754,  32755,  32755,  32756,  32757,
  32757,  32758,  32758,  32759,  32759,  32760,  32760,  32761,  32761,  32762,  32762,  32763,  32763,  32764,  32764,  32764,
  32765,  32765,  32765,  32765,  32766,  32766,  32766,  32766,  32766,  32767,  32767,  32767,  32767,  32767,  32767,  32767,
};

//sin calculate.
/*__ramfunc*/ int32_t Sin_Cal_Q15(int32_t angle_Q13)
{
  int32_t temp;

  for(;;)
  {
    if(angle_Q13 < 0)
    {
      angle_Q13 += 8192;
    }
    else
    {
      break;
    }
  }

  angle_Q13 %= 8192;

  if(angle_Q13 < 2048)          //0~90
  {
    temp = Sin_90_Q15_Tab[angle_Q13];
  }
  else if(angle_Q13 < 4096)     //90~180
  {
    temp = Sin_90_Q15_Tab[4095 - angle_Q13];
  }
  else if(angle_Q13 < 6144)     //180~270
  {
    temp = - Sin_90_Q15_Tab[angle_Q13 - 4096];
  }
  else                          //270~360
  {
    temp = - Sin_90_Q15_Tab[8191 - angle_Q13];
  }

  return temp;
}

//cos calculate.
/*__ramfunc*/ int32_t Cos_Cal_Q15(int32_t angle_Q13)
{
  int32_t temp;

  for(;;)
  {
    if(angle_Q13 < 0)
    {
      angle_Q13 += 8192;
    }
    else
    {
      break;
    }
  }

  angle_Q13 %= 8192;

  if(angle_Q13 < 2048)          //0~90
  {
    temp = Sin_90_Q15_Tab[2047 - angle_Q13];
  }
  else if(angle_Q13 < 4096)     //90~180
  {
    temp = - Sin_90_Q15_Tab[angle_Q13 - 2048];
  }
  else if(angle_Q13 < 6144)     //180~270
  {
    temp = - Sin_90_Q15_Tab[6143 - angle_Q13];
  }
  else                          //270~360
  {
    temp = Sin_90_Q15_Tab[angle_Q13 - 6144];
  }

  return temp;
}


/********** End of file *********** Copy Right Reserved by STMicroelectronics ***********/

